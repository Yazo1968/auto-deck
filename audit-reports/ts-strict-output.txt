App.tsx(53,19): error TS6133: 'addCustomStyle' is declared but its value is never read.
App.tsx(53,35): error TS6133: 'updateCustomStyle' is declared but its value is never read.
App.tsx(53,54): error TS6133: 'deleteCustomStyle' is declared but its value is never read.
App.tsx(82,5): error TS6133: 'currentSynthesisContent' is declared but its value is never read.
App.tsx(82,30): error TS6133: 'contentDirty' is declared but its value is never read.
App.tsx(82,44): error TS6133: 'selectedCount' is declared but its value is never read.
App.tsx(84,5): error TS6133: 'handleGenerateAll' is declared but its value is never read.
App.tsx(86,5): error TS6133: 'handleImageModified' is declared but its value is never read.
App.tsx(302,15): error TS2375: Type '{ fileId: string | undefined; id: string; name: string; size: number; type: string; lastModified: number; content?: string; structure?: Heading[]; status: "uploading" | "processing" | "ready" | "error"; ... 16 more ...; lastDisabledAt?: number; }' is not assignable to type 'UploadedFile' with 'exactOptionalPropertyTypes: true'. Consider adding 'undefined' to the types of the target's properties.
  Types of property 'fileId' are incompatible.
    Type 'string | undefined' is not assignable to type 'string'.
      Type 'undefined' is not assignable to type 'string'.
App.tsx(372,11): error TS2375: Type '{ id: string; name: string; description: string | undefined; nuggetIds: never[]; createdAt: number; lastModifiedAt: number; }' is not assignable to type 'Project' with 'exactOptionalPropertyTypes: true'. Consider adding 'undefined' to the types of the target's properties.
  Types of property 'description' are incompatible.
    Type 'string | undefined' is not assignable to type 'string'.
      Type 'undefined' is not assignable to type 'string'.
App.tsx(437,11): error TS2375: Type '{ id: string; name: string; description: string | undefined; nuggetIds: string[]; createdAt: number; lastModifiedAt: number; }' is not assignable to type 'Project' with 'exactOptionalPropertyTypes: true'. Consider adding 'undefined' to the types of the target's properties.
  Types of property 'description' are incompatible.
    Type 'string | undefined' is not assignable to type 'string'.
      Type 'undefined' is not assignable to type 'string'.
App.tsx(526,35): error TS2532: Object is possibly 'undefined'.
App.tsx(683,31): error TS2345: Argument of type 'Card | undefined' is not assignable to parameter of type 'Card'.
  Type 'undefined' is not assignable to type 'Card'.
App.tsx(709,44): error TS2532: Object is possibly 'undefined'.
App.tsx(728,44): error TS2532: Object is possibly 'undefined'.
App.tsx(902,10): error TS6133: 'copied' is declared but its value is never read.
App.tsx(902,18): error TS6133: 'setCopied' is declared but its value is never read.
App.tsx(917,23): error TS2532: Object is possibly 'undefined'.
App.tsx(1021,18): error TS2345: Argument of type '{ imageUrl: string; cardId: string | null; cardText: string | null; palette: Palette; imageHistory: ImageVersion[] | undefined; aspectRatio: "1:1" | "2:3" | ... 7 more ... | "21:9"; resolution: "1K" | ... 1 more ... | "4K"; }' is not assignable to parameter of type 'SetStateAction<ZoomState>'.
  Type '{ imageUrl: string; cardId: string | null; cardText: string | null; palette: Palette; imageHistory: ImageVersion[] | undefined; aspectRatio: "1:1" | "2:3" | ... 7 more ... | "21:9"; resolution: "1K" | ... 1 more ... | "4K"; }' is not assignable to type 'ZoomState' with 'exactOptionalPropertyTypes: true'. Consider adding 'undefined' to the types of the target's properties.
    Types of property 'imageHistory' are incompatible.
      Type 'ImageVersion[] | undefined' is not assignable to type 'ImageVersion[]'.
        Type 'undefined' is not assignable to type 'ImageVersion[]'.
App.tsx(1174,36): error TS2532: Object is possibly 'undefined'.
App.tsx(1280,19): error TS2379: Argument of type '{ provider: "claude"; model: string; inputTokens: number; outputTokens: number; cacheReadTokens: number | undefined; cacheWriteTokens: number | undefined; }' is not assignable to parameter of type 'Omit<TokenUsageEntry, "timestamp" | "estimatedCost">' with 'exactOptionalPropertyTypes: true'. Consider adding 'undefined' to the types of the target's properties.
  Types of property 'cacheReadTokens' are incompatible.
    Type 'number | undefined' is not assignable to type 'number'.
      Type 'undefined' is not assignable to type 'number'.
App.tsx(1348,33): error TS2379: Argument of type '{ content: string; fileId: string | undefined; lastEditedAt: number; version: number; id: string; name: string; size: number; type: string; lastModified: number; structure?: Heading[]; status: "uploading" | "processing" | "ready" | "error"; ... 14 more ...; lastDisabledAt?: number; }' is not assignable to parameter of type 'UploadedFile' with 'exactOptionalPropertyTypes: true'. Consider adding 'undefined' to the types of the target's properties.
  Types of property 'fileId' are incompatible.
    Type 'string | undefined' is not assignable to type 'string'.
      Type 'undefined' is not assignable to type 'string'.
App.tsx(1373,33): error TS2379: Argument of type '{ structure: Heading[]; bookmarks: BookmarkNode[] | undefined; bookmarkSource: BookmarkSource | undefined; pdfBase64: string | undefined; ... 21 more ...; lastDisabledAt?: number; }' is not assignable to parameter of type 'UploadedFile' with 'exactOptionalPropertyTypes: true'. Consider adding 'undefined' to the types of the target's properties.
  Types of property 'pdfBase64' are incompatible.
    Type 'string | undefined' is not assignable to type 'string'.
      Type 'undefined' is not assignable to type 'string'.
App.tsx(1424,7): error TS2375: Type '{ type: "copied" | "moved"; sourceProjectName: string | undefined; sourceNuggetName: string; timestamp: number; }' is not assignable to type 'SourceOrigin' with 'exactOptionalPropertyTypes: true'. Consider adding 'undefined' to the types of the target's properties.
  Types of property 'sourceProjectName' are incompatible.
    Type 'string | undefined' is not assignable to type 'string'.
      Type 'undefined' is not assignable to type 'string'.
App.tsx(1477,7): error TS2375: Type '{ type: "copied"; sourceProjectName: string | undefined; sourceNuggetName: string; timestamp: number; }' is not assignable to type 'SourceOrigin' with 'exactOptionalPropertyTypes: true'. Consider adding 'undefined' to the types of the target's properties.
  Types of property 'sourceProjectName' are incompatible.
    Type 'string | undefined' is not assignable to type 'string'.
      Type 'undefined' is not assignable to type 'string'.
App.tsx(1511,26): error TS2345: Argument of type '{ fileName: string; pdfCount: number | undefined; }' is not assignable to parameter of type 'SetStateAction<{ fileName: string; pdfCount?: number; } | null>'.
  Type '{ fileName: string; pdfCount: number | undefined; }' is not assignable to type '{ fileName: string; pdfCount?: number; }' with 'exactOptionalPropertyTypes: true'. Consider adding 'undefined' to the types of the target's properties.
    Types of property 'pdfCount' are incompatible.
      Type 'number | undefined' is not assignable to type 'number'.
        Type 'undefined' is not assignable to type 'number'.
App.tsx(1528,38): error TS2532: Object is possibly 'undefined'.
App.tsx(1557,52): error TS2379: Argument of type '{ name: string; fileId: string | undefined; id: string; size: number; type: string; lastModified: number; content?: string; structure?: Heading[]; status: "uploading" | "processing" | "ready" | "error"; ... 16 more ...; lastDisabledAt?: number; }' is not assignable to parameter of type 'UploadedFile' with 'exactOptionalPropertyTypes: true'. Consider adding 'undefined' to the types of the target's properties.
  Types of property 'fileId' are incompatible.
    Type 'string | undefined' is not assignable to type 'string'.
      Type 'undefined' is not assignable to type 'string'.
App.tsx(1585,52): error TS2379: Argument of type '{ name: string; fileId: string | undefined; id: string; size: number; type: string; lastModified: number; content?: string; structure?: Heading[]; status: "uploading" | "processing" | "ready" | "error"; ... 16 more ...; lastDisabledAt?: number; }' is not assignable to parameter of type 'UploadedFile' with 'exactOptionalPropertyTypes: true'. Consider adding 'undefined' to the types of the target's properties.
  Types of property 'fileId' are incompatible.
    Type 'string | undefined' is not assignable to type 'string'.
      Type 'undefined' is not assignable to type 'string'.
App.tsx(1620,48): error TS2379: Argument of type '{ name: string; fileId: string | undefined; id: string; size: number; type: string; lastModified: number; content?: string; structure?: Heading[]; status: "uploading" | "processing" | "ready" | "error"; ... 16 more ...; lastDisabledAt?: number; }' is not assignable to parameter of type 'UploadedFile' with 'exactOptionalPropertyTypes: true'. Consider adding 'undefined' to the types of the target's properties.
  Types of property 'fileId' are incompatible.
    Type 'string | undefined' is not assignable to type 'string'.
      Type 'undefined' is not assignable to type 'string'.
App.tsx(1751,48): error TS2532: Object is possibly 'undefined'.
App.tsx(1824,10): error TS2375: Type '{ fileName: string; pdfCount: number | undefined; onConvertToMarkdown: () => void; onKeepAsPdf: () => void; onCancel: () => void; }' is not assignable to type 'PdfUploadChoiceDialogProps' with 'exactOptionalPropertyTypes: true'. Consider adding 'undefined' to the types of the target's properties.
  Types of property 'pdfCount' are incompatible.
    Type 'number | undefined' is not assignable to type 'number'.
      Type 'undefined' is not assignable to type 'number'.
App.tsx(2189,52): error TS2322: Type 'string | null' is not assignable to type 'string'.
  Type 'null' is not assignable to type 'string'.
components/AssetsPanel.tsx(53,3): error TS6133: 'setActiveLogicTab' is declared but its value is never read.
components/AssetsPanel.tsx(54,3): error TS6133: 'genStatus' is declared but its value is never read.
components/AssetsPanel.tsx(82,9): error TS6133: 'colorRefs' is declared but its value is never read.
components/AssetsPanel.tsx(637,16): error TS2375: Type '{ activeTool: AnnotationTool; onToolChange: (tool: AnnotationTool) => void; annotationCount: number; onDiscardMarks: () => void; onModify: () => void; isModifying: boolean; ... 8 more ...; onGlobalInstructionChange: (text: string) => void; }' is not assignable to type 'AnnotationToolbarProps' with 'exactOptionalPropertyTypes: true'. Consider adding 'undefined' to the types of the target's properties.
  Types of property 'palette' are incompatible.
    Type 'Palette | undefined' is not assignable to type 'Palette'.
      Type 'undefined' is not assignable to type 'Palette'.
components/AssetsPanel.tsx(664,14): error TS2375: Type '{ imageUrl: string; cardId: null; cardText: null; palette: Palette; style: string; aspectRatio: "1:1" | "2:3" | "3:2" | "3:4" | "4:3" | "4:5" | "5:4" | "9:16" | "16:9" | "21:9"; resolution: "1K" | ... 1 more ... | "4K"; ... 5 more ...; overlay: Element; }' is not assignable to type 'AnnotationWorkbenchProps' with 'exactOptionalPropertyTypes: true'. Consider adding 'undefined' to the types of the target's properties.
  Types of property 'onImageModified' are incompatible.
    Type '((_id: string, newUrl: string) => void) | undefined' is not assignable to type '(cardId: string, newImageUrl: string, history: ImageVersion[]) => void'.
      Type 'undefined' is not assignable to type '(cardId: string, newImageUrl: string, history: ImageVersion[]) => void'.
components/AssetsPanel.tsx(711,14): error TS2375: Type '{ imageUrl: string; cardId: string; cardText: string; palette: Palette; style: string; aspectRatio: "1:1" | "2:3" | "3:2" | "3:4" | "4:3" | "4:5" | "5:4" | "9:16" | "16:9" | "21:9"; ... 8 more ...; onUsage: ((entry: { ...; }) => void) | undefined; }' is not assignable to type 'AnnotationWorkbenchProps' with 'exactOptionalPropertyTypes: true'. Consider adding 'undefined' to the types of the target's properties.
  Types of property 'imageHistory' are incompatible.
    Type 'ImageVersion[] | undefined' is not assignable to type 'ImageVersion[]'.
      Type 'undefined' is not assignable to type 'ImageVersion[]'.
components/AutoDeckPanel.tsx(2,30): error TS7016: Could not find a declaration file for module 'react-dom'. 'C:/Users/archd/Downloads/infonugget-v6.0/node_modules/react-dom/index.js' implicitly has an 'any' type.
  Try `npm i --save-dev @types/react-dom` if it exists or add a new declaration (.d.ts) file containing `declare module 'react-dom';`
components/AutoDeckPanel.tsx(59,13): error TS7030: Not all code paths return a value.
components/AutoDeckPanel.tsx(134,9): error TS2322: Type 'boolean | undefined' is not assignable to type 'boolean'.
  Type 'undefined' is not assignable to type 'boolean'.
components/AutoDeckPanel.tsx(178,19): error TS7053: Element implicitly has an 'any' type because expression of type 'keyof AutoDeckBriefing' can't be used to index type '{ readonly audience: 100; readonly type: 80; readonly objective: 150; readonly tone: 80; readonly focus: 120; }'.
  Property 'minCards' does not exist on type '{ readonly audience: 100; readonly type: 80; readonly objective: 150; readonly tone: 80; readonly focus: 120; }'.
components/AutoDeckPanel.tsx(234,19): error TS7053: Element implicitly has an 'any' type because expression of type 'keyof AutoDeckBriefing' can't be used to index type '{ readonly audience: 100; readonly type: 80; readonly objective: 150; readonly tone: 80; readonly focus: 120; }'.
  Property 'minCards' does not exist on type '{ readonly audience: 100; readonly type: 80; readonly objective: 150; readonly tone: 80; readonly focus: 120; }'.
components/AutoDeckPanel.tsx(235,29): error TS2339: Property 'length' does not exist on type 'string | number | true'.
  Property 'length' does not exist on type 'number'.
components/AutoDeckPanel.tsx(254,11): error TS2322: Type 'string | number | true' is not assignable to type 'string | number | readonly string[] | undefined'.
  Type 'true' is not assignable to type 'string | number | readonly string[] | undefined'.
components/CardsPanel.tsx(44,27): error TS2532: Object is possibly 'undefined'.
components/CardsPanel.tsx(55,18): error TS2532: Object is possibly 'undefined'.
components/CardsPanel.tsx(203,8): error TS2375: Type '{ cards: Card[]; activeCardId: string | null; onCardClick: (id: string) => void; onCardDoubleClick: ((id: string) => void) | undefined; onToggleSelection: (id: string) => void; onSelectExclusive: (id: string) => void; ... 12 more ...; onReorderCards: (fromIndex: number, toIndex: number) => void; }' is not assignable to type 'InsightsCardListProps' with 'exactOptionalPropertyTypes: true'. Consider adding 'undefined' to the types of the target's properties.
  Types of property 'onCardDoubleClick' are incompatible.
    Type '((id: string) => void) | undefined' is not assignable to type '(id: string) => void'.
      Type 'undefined' is not assignable to type '(id: string) => void'.
components/ChatPanel.tsx(3,30): error TS7016: Could not find a declaration file for module 'react-dom'. 'C:/Users/archd/Downloads/infonugget-v6.0/node_modules/react-dom/index.js' implicitly has an 'any' type.
  Try `npm i --save-dev @types/react-dom` if it exists or add a new declaration (.d.ts) file containing `declare module 'react-dom';`
components/ChatPanel.tsx(47,13): error TS7030: Not all code paths return a value.
components/ChatPanel.tsx(229,9): error TS6133: 'startEditing' is declared but its value is never read.
components/ChatPanel.tsx(251,25): error TS2532: Object is possibly 'undefined'.
components/ChatPanel.tsx(265,20): error TS2532: Object is possibly 'undefined'.
components/Dialogs.tsx(3,30): error TS7016: Could not find a declaration file for module 'react-dom'. 'C:/Users/archd/Downloads/infonugget-v6.0/node_modules/react-dom/index.js' implicitly has an 'any' type.
  Try `npm i --save-dev @types/react-dom` if it exists or add a new declaration (.d.ts) file containing `declare module 'react-dom';`
components/DocumentEditorModal.tsx(3,30): error TS7016: Could not find a declaration file for module 'react-dom'. 'C:/Users/archd/Downloads/infonugget-v6.0/node_modules/react-dom/index.js' implicitly has an 'any' type.
  Try `npm i --save-dev @types/react-dom` if it exists or add a new declaration (.d.ts) file containing `declare module 'react-dom';`
components/DocumentEditorModal.tsx(4,37): error TS6133: 'isCoverLevel' is declared but its value is never read.
components/DocumentEditorModal.tsx(208,64): error TS4111: Property 'tocIdx' comes from an index signature, so it must be accessed with ['tocIdx'].
components/DocumentEditorModal.tsx(216,19): error TS2532: Object is possibly 'undefined'.
components/DocumentEditorModal.tsx(216,34): error TS2532: Object is possibly 'undefined'.
components/DocumentEditorModal.tsx(252,47): error TS2532: Object is possibly 'undefined'.
components/DocumentEditorModal.tsx(263,49): error TS2532: Object is possibly 'undefined'.
components/DocumentEditorModal.tsx(382,12): error TS2532: Object is possibly 'undefined'.
components/DocumentEditorModal.tsx(382,40): error TS2532: Object is possibly 'undefined'.
components/DocumentEditorModal.tsx(388,11): error TS2532: Object is possibly 'undefined'.
components/DocumentEditorModal.tsx(388,31): error TS18048: 'heading' is possibly 'undefined'.
components/DocumentEditorModal.tsx(389,27): error TS2532: Object is possibly 'undefined'.
components/DocumentEditorModal.tsx(476,27): error TS2532: Object is possibly 'undefined'.
components/DocumentEditorModal.tsx(481,13): error TS2532: Object is possibly 'undefined'.
components/DocumentEditorModal.tsx(482,29): error TS2532: Object is possibly 'undefined'.
components/DocumentEditorModal.tsx(483,29): error TS2532: Object is possibly 'undefined'.
components/DocumentEditorModal.tsx(500,27): error TS2532: Object is possibly 'undefined'.
components/DocumentEditorModal.tsx(502,13): error TS2532: Object is possibly 'undefined'.
components/DocumentEditorModal.tsx(504,27): error TS2532: Object is possibly 'undefined'.
components/DocumentEditorModal.tsx(505,38): error TS2532: Object is possibly 'undefined'.
components/DocumentEditorModal.tsx(519,27): error TS2532: Object is possibly 'undefined'.
components/DocumentEditorModal.tsx(521,13): error TS2532: Object is possibly 'undefined'.
components/DocumentEditorModal.tsx(522,27): error TS2532: Object is possibly 'undefined'.
components/DocumentEditorModal.tsx(523,38): error TS2532: Object is possibly 'undefined'.
components/DocumentEditorModal.tsx(533,9): error TS6133: 'handleSaveAndClose' is declared but its value is never read.
components/DocumentEditorModal.tsx(733,25): error TS2532: Object is possibly 'undefined'.
components/DocumentEditorModal.tsx(1183,22): error TS6133: 'e' is declared but its value is never read.
components/InsightsCardList.tsx(3,30): error TS7016: Could not find a declaration file for module 'react-dom'. 'C:/Users/archd/Downloads/infonugget-v6.0/node_modules/react-dom/index.js' implicitly has an 'any' type.
  Try `npm i --save-dev @types/react-dom` if it exists or add a new declaration (.d.ts) file containing `declare module 'react-dom';`
components/InsightsCardList.tsx(45,57): error TS2532: Object is possibly 'undefined'.
components/InsightsCardList.tsx(151,3): error TS6133: 'onSelectExclusive' is declared but its value is never read.
components/InsightsCardList.tsx(152,3): error TS6133: 'onSelectRange' is declared but its value is never read.
components/InsightsCardList.tsx(260,19): error TS2532: Object is possibly 'undefined'.
components/InsightsCardList.tsx(260,34): error TS2532: Object is possibly 'undefined'.
components/InsightsCardList.tsx(560,15): error TS6133: 'hasCard' is declared but its value is never read.
components/InsightsCardList.tsx(561,15): error TS6133: 'hasSynthesis' is declared but its value is never read.
components/NuggetCreationModal.tsx(3,30): error TS7016: Could not find a declaration file for module 'react-dom'. 'C:/Users/archd/Downloads/infonugget-v6.0/node_modules/react-dom/index.js' implicitly has an 'any' type.
  Try `npm i --save-dev @types/react-dom` if it exists or add a new declaration (.d.ts) file containing `declare module 'react-dom';`
components/NuggetCreationModal.tsx(51,20): error TS2532: Object is possibly 'undefined'.
components/NuggetCreationModal.tsx(60,38): error TS2532: Object is possibly 'undefined'.
components/NuggetCreationModal.tsx(68,22): error TS2367: This comparison appears to be unintentional because the types '"markdown" | "native-pdf"' and '"cancel"' have no overlap.
components/PanelRequirements.tsx(47,46): error TS6133: 'activeCard' is declared but its value is never read.
components/PdfBookmarkEditor.tsx(34,9): error TS6133: 'darkMode' is declared but its value is never read.
components/PdfUploadChoiceDialog.tsx(3,30): error TS7016: Could not find a declaration file for module 'react-dom'. 'C:/Users/archd/Downloads/infonugget-v6.0/node_modules/react-dom/index.js' implicitly has an 'any' type.
  Try `npm i --save-dev @types/react-dom` if it exists or add a new declaration (.d.ts) file containing `declare module 'react-dom';`
components/PdfViewer.tsx(1,8): error TS6133: 'React' is declared but its value is never read.
components/PdfViewer.tsx(141,30): error TS18048: 'page' is possibly 'undefined'.
components/PdfViewer.tsx(141,44): error TS18048: 'page' is possibly 'undefined'.
components/PdfViewer.tsx(142,31): error TS18048: 'page' is possibly 'undefined'.
components/PdfViewer.tsx(142,44): error TS18048: 'page' is possibly 'undefined'.
components/ProjectCreationModal.tsx(3,30): error TS7016: Could not find a declaration file for module 'react-dom'. 'C:/Users/archd/Downloads/infonugget-v6.0/node_modules/react-dom/index.js' implicitly has an 'any' type.
  Try `npm i --save-dev @types/react-dom` if it exists or add a new declaration (.d.ts) file containing `declare module 'react-dom';`
components/ProjectsPanel.tsx(2,30): error TS7016: Could not find a declaration file for module 'react-dom'. 'C:/Users/archd/Downloads/infonugget-v6.0/node_modules/react-dom/index.js' implicitly has an 'any' type.
  Try `npm i --save-dev @types/react-dom` if it exists or add a new declaration (.d.ts) file containing `declare module 'react-dom';`
components/ProjectsPanel.tsx(195,13): error TS7030: Not all code paths return a value.
components/ProjectsPanel.tsx(353,9): error TS6133: 'selectedNugget' is declared but its value is never read.
components/ProjectsPanel.tsx(490,23): error TS2322: Type 'string | null | undefined' is not assignable to type 'string | null'.
  Type 'undefined' is not assignable to type 'string | null'.
components/ProjectsPanel.tsx(1220,35): error TS6133: 'onRename' is declared but its value is never read.
components/ProjectsPanel.tsx(1220,45): error TS6133: 'onNewNugget' is declared but its value is never read.
components/ProjectsPanel.tsx(1220,58): error TS6133: 'onDelete' is declared but its value is never read.
components/ProjectsPanel.tsx(1224,23): error TS6133: 'onNuggetRename' is declared but its value is never read.
components/ProjectsPanel.tsx(1224,39): error TS6133: 'onNuggetDelete' is declared but its value is never read.
components/ProjectsPanel.tsx(1308,16): error TS2375: Type '{ key: string; nugget: Nugget; isSelected: boolean; isInSelectedProject: boolean; clickedDocId: string | null; isRenaming: boolean; renameValue: string; renameError: string; renameInputRef: RefObject<...> | undefined; ... 19 more ...; onToggleExpand: () => void; }' is not assignable to type 'NuggetRowProps' with 'exactOptionalPropertyTypes: true'. Consider adding 'undefined' to the types of the target's properties.
  Types of property 'renameInputRef' are incompatible.
    Type 'RefObject<HTMLInputElement | null> | undefined' is not assignable to type 'RefObject<HTMLInputElement | null>'.
      Type 'undefined' is not assignable to type 'RefObject<HTMLInputElement | null>'.
components/ProjectsPanel.tsx(1388,36): error TS6133: 'selectedDocId' is declared but its value is never read.
components/ProjectsPanel.tsx(1494,18): error TS2375: Type '{ doc: UploadedFile; isSelected: boolean; isInSelectedProject: boolean; onMenuToggle: (pos: { x: number; y: number; }) => void; onOpenDocument: ((docId: string) => void) | undefined; onSelectDoc: (docId: string) => void; onOpenSourcesPanel: (() => void) | undefined; }' is not assignable to type 'DocRowProps' with 'exactOptionalPropertyTypes: true'. Consider adding 'undefined' to the types of the target's properties.
  Types of property 'onOpenDocument' are incompatible.
    Type '((docId: string) => void) | undefined' is not assignable to type '(docId: string) => void'.
      Type 'undefined' is not assignable to type '(docId: string) => void'.
components/SourcesPanel.tsx(3,30): error TS7016: Could not find a declaration file for module 'react-dom'. 'C:/Users/archd/Downloads/infonugget-v6.0/node_modules/react-dom/index.js' implicitly has an 'any' type.
  Try `npm i --save-dev @types/react-dom` if it exists or add a new declaration (.d.ts) file containing `declare module 'react-dom';`
components/SourcesPanel.tsx(46,3): error TS6133: 'onUpdateDocumentStructure' is declared but its value is never read.
components/SourcesPanel.tsx(57,13): error TS7030: Not all code paths return a value.
components/SourcesPanel.tsx(231,26): error TS2532: Object is possibly 'undefined'.
components/SourcesPanel.tsx(303,27): error TS2532: Object is possibly 'undefined'.
components/SourcesPanel.tsx(307,13): error TS2532: Object is possibly 'undefined'.
components/SourcesPanel.tsx(308,29): error TS2532: Object is possibly 'undefined'.
components/SourcesPanel.tsx(309,29): error TS2532: Object is possibly 'undefined'.
components/SourcesPanel.tsx(315,9): error TS6133: 'handlePdfPromote' is declared but its value is never read.
components/SourcesPanel.tsx(322,27): error TS2532: Object is possibly 'undefined'.
components/SourcesPanel.tsx(323,7): error TS2532: Object is possibly 'undefined'.
components/SourcesPanel.tsx(325,13): error TS2532: Object is possibly 'undefined'.
components/SourcesPanel.tsx(326,27): error TS2532: Object is possibly 'undefined'.
components/SourcesPanel.tsx(327,11): error TS2532: Object is possibly 'undefined'.
components/SourcesPanel.tsx(327,46): error TS2532: Object is possibly 'undefined'.
components/SourcesPanel.tsx(336,9): error TS6133: 'handlePdfDemote' is declared but its value is never read.
components/SourcesPanel.tsx(343,27): error TS2532: Object is possibly 'undefined'.
components/SourcesPanel.tsx(344,7): error TS2532: Object is possibly 'undefined'.
components/SourcesPanel.tsx(346,13): error TS2532: Object is possibly 'undefined'.
components/SourcesPanel.tsx(347,27): error TS2532: Object is possibly 'undefined'.
components/SourcesPanel.tsx(348,11): error TS2532: Object is possibly 'undefined'.
components/SourcesPanel.tsx(348,46): error TS2532: Object is possibly 'undefined'.
components/SourcesPanel.tsx(357,9): error TS6133: 'handlePdfDelete' is declared but its value is never read.
components/SourcesPanel.tsx(415,11): error TS2532: Object is possibly 'undefined'.
components/SourcesPanel.tsx(415,31): error TS18048: 'heading' is possibly 'undefined'.
components/SourcesPanel.tsx(417,30): error TS2532: Object is possibly 'undefined'.
components/SourcesPanel.tsx(421,13): error TS2532: Object is possibly 'undefined'.
components/SourcesPanel.tsx(421,35): error TS18048: 'heading' is possibly 'undefined'.
components/SourcesPanel.tsx(430,12): error TS2532: Object is possibly 'undefined'.
components/SourcesPanel.tsx(430,40): error TS2532: Object is possibly 'undefined'.
components/SourcesPanel.tsx(915,26): error TS2375: Type '{ bookmarks: BookmarkNode[]; onSave: (newBookmarks: BookmarkNode[]) => void; onDiscard: () => void; onRegenerateWithAI: (() => Promise<void>) | undefined; isRegenerating: boolean; }' is not assignable to type 'PdfBookmarkEditorProps' with 'exactOptionalPropertyTypes: true'. Consider adding 'undefined' to the types of the target's properties.
  Types of property 'onRegenerateWithAI' are incompatible.
    Type '(() => Promise<void>) | undefined' is not assignable to type '() => void'.
      Type 'undefined' is not assignable to type '() => void'.
components/SourcesPanel.tsx(948,27): error TS6133: 'canPromote' is declared but its value is never read.
components/SourcesPanel.tsx(949,27): error TS6133: 'canDemote' is declared but its value is never read.
components/SourcesPanel.tsx(1197,16): error TS2375: Type '{ ref: RefObject<DocumentEditorHandle | null>; key: string; document: UploadedFile; mode: "inline"; onSave: (newContent: string) => void; onClose: () => void; onGenerateCard: ((cardId: string, detailLevel: DetailLevel, cardText: string, sourceDocName?: string | undefined) => void) | undefined; generatingSourceIds: S...' is not assignable to type 'DocumentEditorModalProps' with 'exactOptionalPropertyTypes: true'. Consider adding 'undefined' to the types of the target's properties.
  Types of property 'onGenerateCard' are incompatible.
    Type '((cardId: string, detailLevel: DetailLevel, cardText: string, sourceDocName?: string | undefined) => void) | undefined' is not assignable to type '(headingId: string, detailLevel: DetailLevel, headingText: string, sourceDocName?: string | undefined) => void'.
      Type 'undefined' is not assignable to type '(headingId: string, detailLevel: DetailLevel, headingText: string, sourceDocName?: string | undefined) => void'.
components/StorageProvider.tsx(3,24): error TS6133: 'Card' is declared but its value is never read.
components/StorageProvider.tsx(219,13): error TS2322: Type '{ id: string; name: string; size: number; type: string; lastModified: number; content: string | undefined; status: "ready"; progress: number; }[]' is not assignable to type 'UploadedFile[]'.
  Type '{ id: string; name: string; size: number; type: string; lastModified: number; content: string | undefined; status: "ready"; progress: number; }' is not assignable to type 'UploadedFile' with 'exactOptionalPropertyTypes: true'. Consider adding 'undefined' to the types of the target's properties.
    Types of property 'content' are incompatible.
      Type 'string | undefined' is not assignable to type 'string'.
        Type 'undefined' is not assignable to type 'string'.
components/StorageProvider.tsx(293,3): error TS2375: Type '{ nuggets: Nugget[]; projects: Project[]; selectedNuggetId: string | null; selectedDocumentId: string | null; selectedProjectId: string | null; activeCardId: string | null; workflowMode: "insights"; insightsSession: InsightsSession | null; tokenUsageTotals: Record<string, number> | undefined; customStyles: CustomSty...' is not assignable to type 'InitialPersistedState' with 'exactOptionalPropertyTypes: true'. Consider adding 'undefined' to the types of the target's properties.
  Types of property 'tokenUsageTotals' are incompatible.
    Type 'Record<string, number> | undefined' is not assignable to type 'Record<string, number>'.
      Type 'undefined' is not assignable to type 'Record<string, number>'.
components/StorageProvider.tsx(336,6): error TS2375: Type '{ children: (Element | ReactNode)[]; initialState: InitialPersistedState | undefined; }' is not assignable to type '{ children: ReactNode; initialState?: InitialPersistedState; }' with 'exactOptionalPropertyTypes: true'. Consider adding 'undefined' to the types of the target's properties.
  Types of property 'initialState' are incompatible.
    Type 'InitialPersistedState | undefined' is not assignable to type 'InitialPersistedState'.
      Type 'undefined' is not assignable to type 'InitialPersistedState'.
components/StyleStudioModal.tsx(3,30): error TS7016: Could not find a declaration file for module 'react-dom'. 'C:/Users/archd/Downloads/infonugget-v6.0/node_modules/react-dom/index.js' implicitly has an 'any' type.
  Try `npm i --save-dev @types/react-dom` if it exists or add a new declaration (.d.ts) file containing `declare module 'react-dom';`
components/StyleStudioModal.tsx(54,9): error TS18048: 'sa' is possibly 'undefined'.
components/StyleStudioModal.tsx(54,19): error TS18048: 'sb' is possibly 'undefined'.
components/StyleStudioModal.tsx(54,28): error TS18048: 'sa' is possibly 'undefined'.
components/StyleStudioModal.tsx(54,40): error TS18048: 'sb' is possibly 'undefined'.
components/StyleStudioModal.tsx(54,51): error TS18048: 'sa' is possibly 'undefined'.
components/StyleStudioModal.tsx(54,67): error TS18048: 'sb' is possibly 'undefined'.
components/StyleStudioModal.tsx(55,9): error TS18048: 'sa' is possibly 'undefined'.
components/StyleStudioModal.tsx(55,30): error TS18048: 'sb' is possibly 'undefined'.
components/StyleStudioModal.tsx(55,50): error TS18048: 'sa' is possibly 'undefined'.
components/StyleStudioModal.tsx(55,73): error TS18048: 'sb' is possibly 'undefined'.
components/StyleStudioModal.tsx(57,11): error TS18048: 'sa' is possibly 'undefined'.
components/StyleStudioModal.tsx(57,29): error TS18048: 'sb' is possibly 'undefined'.
components/StyleStudioModal.tsx(74,24): error TS2532: Object is possibly 'undefined'.
components/StyleStudioModal.tsx(321,42): error TS2532: Object is possibly 'undefined'.
components/SubjectEditModal.tsx(3,30): error TS7016: Could not find a declaration file for module 'react-dom'. 'C:/Users/archd/Downloads/infonugget-v6.0/node_modules/react-dom/index.js' implicitly has an 'any' type.
  Try `npm i --save-dev @types/react-dom` if it exists or add a new declaration (.d.ts) file containing `declare module 'react-dom';`
components/ToastNotification.tsx(2,30): error TS7016: Could not find a declaration file for module 'react-dom'. 'C:/Users/archd/Downloads/infonugget-v6.0/node_modules/react-dom/index.js' implicitly has an 'any' type.
  Try `npm i --save-dev @types/react-dom` if it exists or add a new declaration (.d.ts) file containing `declare module 'react-dom';`
components/ToastNotification.tsx(43,13): error TS7030: Not all code paths return a value.
components/workbench/AnnotationToolbar.tsx(96,3): error TS6133: 'zoomScale' is declared but its value is never read.
components/workbench/AnnotationToolbar.tsx(97,3): error TS6133: 'onZoomIn' is declared but its value is never read.
components/workbench/AnnotationToolbar.tsx(98,3): error TS6133: 'onZoomOut' is declared but its value is never read.
components/workbench/AnnotationToolbar.tsx(99,3): error TS6133: 'onZoomReset' is declared but its value is never read.
components/workbench/AnnotationToolbar.tsx(100,3): error TS6133: 'onRequestFullscreen' is declared but its value is never read.
components/workbench/AnnotationWorkbench.tsx(474,11): error TS2322: Type 'string | null | undefined' is not assignable to type 'string | null'.
  Type 'undefined' is not assignable to type 'string | null'.
components/workbench/AnnotationWorkbench.tsx(504,11): error TS2322: Type 'string | null | undefined' is not assignable to type 'string | null'.
  Type 'undefined' is not assignable to type 'string | null'.
components/workbench/AnnotationWorkbench.tsx(545,39): error TS2379: Argument of type '{ activeTool: AnnotationTool; onToolChange: React.Dispatch<React.SetStateAction<AnnotationTool>>; annotationCount: number; onDiscardMarks: () => void; ... 14 more ...; onGlobalInstructionChange: (text: string) => void; }' is not assignable to parameter of type 'AnnotationToolbarState' with 'exactOptionalPropertyTypes: true'. Consider adding 'undefined' to the types of the target's properties.
  Types of property 'palette' are incompatible.
    Type 'Palette | undefined' is not assignable to type 'Palette'.
      Type 'undefined' is not assignable to type 'Palette'.
components/workbench/AnnotationWorkbench.tsx(1121,10): error TS2375: Type '{ activeTool: AnnotationTool; onToolChange: Dispatch<SetStateAction<AnnotationTool>>; annotationCount: number; onDiscardMarks: () => void; ... 9 more ...; onGlobalInstructionChange: Dispatch<...>; }' is not assignable to type 'AnnotationToolbarProps' with 'exactOptionalPropertyTypes: true'. Consider adding 'undefined' to the types of the target's properties.
  Types of property 'palette' are incompatible.
    Type 'Palette | undefined' is not assignable to type 'Palette'.
      Type 'undefined' is not assignable to type 'Palette'.
components/workbench/CanvasRenderer.ts(49,9): error TS18048: 'a' is possibly 'undefined'.
components/workbench/CanvasRenderer.ts(50,43): error TS18048: 'a' is possibly 'undefined'.
components/workbench/CanvasRenderer.ts(50,45): error TS2339: Property 'position' does not exist on type 'Annotation'.
  Property 'position' does not exist on type 'RectangleAnnotation'.
components/workbench/CanvasRenderer.ts(52,46): error TS18048: 'a' is possibly 'undefined'.
components/workbench/CanvasRenderer.ts(53,16): error TS18048: 'a' is possibly 'undefined'.
components/workbench/CanvasRenderer.ts(54,37): error TS18048: 'a' is possibly 'undefined'.
components/workbench/CanvasRenderer.ts(54,39): error TS2339: Property 'topLeft' does not exist on type 'Annotation'.
  Property 'topLeft' does not exist on type 'PinAnnotation'.
components/workbench/CanvasRenderer.ts(55,37): error TS18048: 'a' is possibly 'undefined'.
components/workbench/CanvasRenderer.ts(55,39): error TS2339: Property 'bottomRight' does not exist on type 'Annotation'.
  Property 'bottomRight' does not exist on type 'PinAnnotation'.
components/workbench/CanvasRenderer.ts(61,16): error TS18048: 'a' is possibly 'undefined'.
components/workbench/CanvasRenderer.ts(63,16): error TS18048: 'a' is possibly 'undefined'.
components/workbench/CanvasRenderer.ts(65,46): error TS18048: 'a' is possibly 'undefined'.
components/workbench/CanvasRenderer.ts(65,48): error TS2339: Property 'start' does not exist on type 'Annotation'.
  Property 'start' does not exist on type 'PinAnnotation'.
components/workbench/CanvasRenderer.ts(65,55): error TS18048: 'a' is possibly 'undefined'.
components/workbench/CanvasRenderer.ts(65,57): error TS2339: Property 'end' does not exist on type 'Annotation'.
  Property 'end' does not exist on type 'PinAnnotation'.
components/workbench/CanvasRenderer.ts(67,48): error TS18048: 'a' is possibly 'undefined'.
components/workbench/CanvasRenderer.ts(68,16): error TS18048: 'a' is possibly 'undefined'.
components/workbench/CanvasRenderer.ts(69,11): error TS18048: 'a' is possibly 'undefined'.
components/workbench/CanvasRenderer.ts(69,13): error TS2339: Property 'points' does not exist on type 'Annotation'.
  Property 'points' does not exist on type 'PinAnnotation'.
components/workbench/CanvasRenderer.ts(71,49): error TS18048: 'a' is possibly 'undefined'.
components/workbench/CanvasRenderer.ts(71,51): error TS2339: Property 'points' does not exist on type 'Annotation'.
  Property 'points' does not exist on type 'PinAnnotation'.
components/workbench/CanvasRenderer.ts(73,51): error TS18048: 'a' is possibly 'undefined'.
components/workbench/CanvasRenderer.ts(506,3): error TS6133: 'strokeWidth' is declared but its value is never read.
components/workbench/CanvasRenderer.ts(515,36): error TS2345: Argument of type 'NormalizedPoint | undefined' is not assignable to parameter of type 'NormalizedPoint'.
  Type 'undefined' is not assignable to type 'NormalizedPoint'.
components/workbench/CanvasRenderer.ts(518,34): error TS2345: Argument of type 'NormalizedPoint | undefined' is not assignable to parameter of type 'NormalizedPoint'.
  Type 'undefined' is not assignable to type 'NormalizedPoint'.
components/ZoomOverlay.tsx(2,30): error TS7016: Could not find a declaration file for module 'react-dom'. 'C:/Users/archd/Downloads/infonugget-v6.0/node_modules/react-dom/index.js' implicitly has an 'any' type.
  Try `npm i --save-dev @types/react-dom` if it exists or add a new declaration (.d.ts) file containing `declare module 'react-dom';`
context/AppContext.tsx(3,30): error TS6133: 'WorkflowMode' is declared but its value is never read.
context/AppContext.tsx(197,29): error TS2345: Argument of type 'string | undefined' is not assignable to parameter of type 'SetStateAction<string | null>'.
  Type 'undefined' is not assignable to type 'SetStateAction<string | null>'.
context/AppContext.tsx(267,7): error TS2322: Type '{ id: string; name: string; type: "md" | "pdf"; size: number; content: string | undefined; }[]' is not assignable to type 'InsightsDocument[]'.
  Type '{ id: string; name: string; type: "md" | "pdf"; size: number; content: string | undefined; }' is not assignable to type 'InsightsDocument' with 'exactOptionalPropertyTypes: true'. Consider adding 'undefined' to the types of the target's properties.
    Types of property 'content' are incompatible.
      Type 'string | undefined' is not assignable to type 'string'.
        Type 'undefined' is not assignable to type 'string'.
context/AppContext.tsx(341,52): error TS6133: 'content' is declared but its value is never read.
context/AppContext.tsx(364,79): error TS2375: Type '{ id: string; name: string; type: "md" | "pdf"; size: number; content: string | undefined; }' is not assignable to type 'InsightsDocument' with 'exactOptionalPropertyTypes: true'. Consider adding 'undefined' to the types of the target's properties.
  Types of property 'content' are incompatible.
    Type 'string | undefined' is not assignable to type 'string'.
      Type 'undefined' is not assignable to type 'string'.
context/AppContext.tsx(434,13): error TS2375: Type '{ type: "renamed"; docId: string; docName: string; oldName: string | undefined; timestamp: number; }' is not assignable to type 'DocChangeEvent' with 'exactOptionalPropertyTypes: true'. Consider adding 'undefined' to the types of the target's properties.
  Types of property 'oldName' are incompatible.
    Type 'string | undefined' is not assignable to type 'string'.
      Type 'undefined' is not assignable to type 'string'.
context/AppContext.tsx(543,5): error TS2322: Type 'Card | null | undefined' is not assignable to type 'Card | null'.
  Type 'undefined' is not assignable to type 'Card | null'.
hooks/useAnnotations.ts(2,22): error TS6133: 'NormalizedPoint' is declared but its value is never read.
hooks/useAutoDeck.ts(130,61): error TS2379: Argument of type '{ briefing: AutoDeckBriefing; lod: AutoDeckLod; subject: string | undefined; documents: { id: string; name: string; wordCount: number; content: string; }[]; totalWordCount: number; }' is not assignable to parameter of type 'PlannerPromptParams' with 'exactOptionalPropertyTypes: true'. Consider adding 'undefined' to the types of the target's properties.
  Types of property 'subject' are incompatible.
    Type 'string | undefined' is not assignable to type 'string'.
      Type 'undefined' is not assignable to type 'string'.
hooks/useAutoDeck.ts(146,36): error TS2532: Object is possibly 'undefined'.
hooks/useAutoDeck.ts(148,41): error TS18048: 'firstMsg' is possibly 'undefined'.
hooks/useAutoDeck.ts(149,47): error TS18048: 'firstMsg' is possibly 'undefined'.
hooks/useAutoDeck.ts(150,19): error TS18048: 'firstMsg' is possibly 'undefined'.
hooks/useAutoDeck.ts(163,21): error TS2379: Argument of type '{ provider: "claude"; model: string; inputTokens: number; outputTokens: number; cacheReadTokens: number | undefined; cacheWriteTokens: number | undefined; }' is not assignable to parameter of type 'Omit<TokenUsageEntry, "timestamp" | "estimatedCost">' with 'exactOptionalPropertyTypes: true'. Consider adding 'undefined' to the types of the target's properties.
  Types of property 'cacheReadTokens' are incompatible.
    Type 'number | undefined' is not assignable to type 'number'.
      Type 'undefined' is not assignable to type 'number'.
hooks/useAutoDeck.ts(270,61): error TS2379: Argument of type '{ briefing: AutoDeckBriefing; lod: AutoDeckLod; subject: string | undefined; documents: { id: string; name: string; wordCount: number; content: string; }[]; totalWordCount: number; revision: { ...; }; }' is not assignable to parameter of type 'PlannerPromptParams' with 'exactOptionalPropertyTypes: true'. Consider adding 'undefined' to the types of the target's properties.
  Types of property 'subject' are incompatible.
    Type 'string | undefined' is not assignable to type 'string'.
      Type 'undefined' is not assignable to type 'string'.
hooks/useAutoDeck.ts(293,36): error TS2532: Object is possibly 'undefined'.
hooks/useAutoDeck.ts(295,41): error TS18048: 'firstMsg' is possibly 'undefined'.
hooks/useAutoDeck.ts(296,47): error TS18048: 'firstMsg' is possibly 'undefined'.
hooks/useAutoDeck.ts(297,19): error TS18048: 'firstMsg' is possibly 'undefined'.
hooks/useAutoDeck.ts(310,21): error TS2379: Argument of type '{ provider: "claude"; model: string; inputTokens: number; outputTokens: number; cacheReadTokens: number | undefined; cacheWriteTokens: number | undefined; }' is not assignable to parameter of type 'Omit<TokenUsageEntry, "timestamp" | "estimatedCost">' with 'exactOptionalPropertyTypes: true'. Consider adding 'undefined' to the types of the target's properties.
  Types of property 'cacheReadTokens' are incompatible.
    Type 'number | undefined' is not assignable to type 'number'.
      Type 'undefined' is not assignable to type 'number'.
hooks/useAutoDeck.ts(404,11): error TS6133: 'totalWordCount' is declared but its value is never read.
hooks/useAutoDeck.ts(439,95): error TS2379: Argument of type '{ briefing: AutoDeckBriefing; lod: AutoDeckLod; subject: string | undefined; plan: ParsedPlan; questions: PlanQuestion[]; questionAnswers: Record<...>; generalComment: string | undefined; }' is not assignable to parameter of type 'FinalizerPromptParams' with 'exactOptionalPropertyTypes: true'. Consider adding 'undefined' to the types of the target's properties.
  Types of property 'subject' are incompatible.
    Type 'string | undefined' is not assignable to type 'string'.
      Type 'undefined' is not assignable to type 'string'.
hooks/useAutoDeck.ts(457,23): error TS2379: Argument of type '{ provider: "claude"; model: string; inputTokens: number; outputTokens: number; cacheReadTokens: number | undefined; cacheWriteTokens: number | undefined; }' is not assignable to parameter of type 'Omit<TokenUsageEntry, "timestamp" | "estimatedCost">' with 'exactOptionalPropertyTypes: true'. Consider adding 'undefined' to the types of the target's properties.
  Types of property 'cacheReadTokens' are incompatible.
    Type 'number | undefined' is not assignable to type 'number'.
      Type 'undefined' is not assignable to type 'number'.
hooks/useAutoDeck.ts(503,62): error TS2532: Object is possibly 'undefined'.
hooks/useAutoDeck.ts(503,81): error TS2532: Object is possibly 'undefined'.
hooks/useAutoDeck.ts(508,64): error TS2379: Argument of type '{ briefing: AutoDeckBriefing; lod: AutoDeckLod; subject: string | undefined; plan: PlannedCard[]; documents: { id: string; name: string; content: string; }[]; batchContext: string | undefined; }' is not assignable to parameter of type 'ProducerPromptParams' with 'exactOptionalPropertyTypes: true'. Consider adding 'undefined' to the types of the target's properties.
  Types of property 'subject' are incompatible.
    Type 'string | undefined' is not assignable to type 'string'.
      Type 'undefined' is not assignable to type 'string'.
hooks/useAutoDeck.ts(525,38): error TS2532: Object is possibly 'undefined'.
hooks/useAutoDeck.ts(527,43): error TS18048: 'firstMsg' is possibly 'undefined'.
hooks/useAutoDeck.ts(528,49): error TS18048: 'firstMsg' is possibly 'undefined'.
hooks/useAutoDeck.ts(529,21): error TS18048: 'firstMsg' is possibly 'undefined'.
hooks/useAutoDeck.ts(546,23): error TS2379: Argument of type '{ provider: "claude"; model: string; inputTokens: number; outputTokens: number; cacheReadTokens: number | undefined; cacheWriteTokens: number | undefined; }' is not assignable to parameter of type 'Omit<TokenUsageEntry, "timestamp" | "estimatedCost">' with 'exactOptionalPropertyTypes: true'. Consider adding 'undefined' to the types of the target's properties.
  Types of property 'cacheReadTokens' are incompatible.
    Type 'number | undefined' is not assignable to type 'number'.
      Type 'undefined' is not assignable to type 'number'.
hooks/useAutoDeck.ts(624,52): error TS18048: 'current' is possibly 'undefined'.
hooks/useCardGeneration.ts(4,16): error TS6133: 'Heading' is declared but its value is never read.
hooks/useCardGeneration.ts(5,10): error TS6133: 'DEFAULT_STYLING' is declared but its value is never read.
hooks/useCardGeneration.ts(5,74): error TS6133: 'ClaudeUsage' is declared but its value is never read.
hooks/useCardGeneration.ts(65,9): error TS6133: 'activeCard' is declared but its value is never read.
hooks/useCardGeneration.ts(109,11): error TS2532: Object is possibly 'undefined'.
hooks/useCardGeneration.ts(110,40): error TS2345: Argument of type 'Card | undefined' is not assignable to parameter of type 'Card'.
  Type 'undefined' is not assignable to type 'Card'.
hooks/useCardGeneration.ts(198,21): error TS2379: Argument of type '{ provider: "claude"; model: string; inputTokens: number; outputTokens: number; cacheReadTokens: number | undefined; cacheWriteTokens: number | undefined; }' is not assignable to parameter of type 'Omit<TokenUsageEntry, "timestamp" | "estimatedCost">' with 'exactOptionalPropertyTypes: true'. Consider adding 'undefined' to the types of the target's properties.
  Types of property 'cacheReadTokens' are incompatible.
    Type 'number | undefined' is not assignable to type 'number'.
      Type 'undefined' is not assignable to type 'number'.
hooks/useCardGeneration.ts(278,25): error TS2379: Argument of type '{ provider: "claude"; model: string; inputTokens: number; outputTokens: number; cacheReadTokens: number | undefined; cacheWriteTokens: number | undefined; }' is not assignable to parameter of type 'Omit<TokenUsageEntry, "timestamp" | "estimatedCost">' with 'exactOptionalPropertyTypes: true'. Consider adding 'undefined' to the types of the target's properties.
  Types of property 'cacheReadTokens' are incompatible.
    Type 'number | undefined' is not assignable to type 'number'.
      Type 'undefined' is not assignable to type 'number'.
hooks/useCardGeneration.ts(337,26): error TS18048: 'imageResponse.candidates' is possibly 'undefined'.
hooks/useCardGeneration.ts(337,26): error TS2532: Object is possibly 'undefined'.
hooks/useCardGeneration.ts(337,26): error TS2532: Object is possibly 'undefined'.
hooks/useCardGeneration.ts(337,26): error TS2532: Object is possibly 'undefined'.
hooks/useCardGeneration.ts(351,58): error TS2532: Object is possibly 'undefined'.
hooks/useDocumentEditing.ts(364,27): error TS2532: Object is possibly 'undefined'.
hooks/useDocumentEditing.ts(367,13): error TS2532: Object is possibly 'undefined'.
hooks/useDocumentEditing.ts(368,25): error TS2532: Object is possibly 'undefined'.
hooks/useDocumentEditing.ts(464,58): error TS18048: 'sourceHeading' is possibly 'undefined'.
hooks/useDocumentEditing.ts(469,25): error TS18048: 'sourceHeading' is possibly 'undefined'.
hooks/useDocumentEditing.ts(486,58): error TS18048: 'targetHeading' is possibly 'undefined'.
hooks/useDocumentEditing.ts(497,27): error TS18048: 'targetHeading' is possibly 'undefined'.
hooks/useDocumentFindReplace.ts(163,9): error TS2532: Object is possibly 'undefined'.
hooks/useDocumentFindReplace.ts(164,9): error TS2532: Object is possibly 'undefined'.
hooks/useDocumentFindReplace.ts(166,9): error TS2532: Object is possibly 'undefined'.
hooks/useDocumentFindReplace.ts(167,9): error TS2532: Object is possibly 'undefined'.
hooks/useDocumentFindReplace.ts(172,48): error TS2345: Argument of type 'HTMLElement | undefined' is not assignable to parameter of type 'HTMLElement'.
  Type 'undefined' is not assignable to type 'HTMLElement'.
hooks/useDocumentFindReplace.ts(232,10): error TS18048: 'activeMark' is possibly 'undefined'.
hooks/useDocumentFindReplace.ts(235,7): error TS18048: 'activeMark' is possibly 'undefined'.
hooks/useDocumentFindReplace.ts(235,82): error TS2345: Argument of type 'HTMLElement | undefined' is not assignable to parameter of type 'Node'.
  Type 'undefined' is not assignable to type 'Node'.
hooks/useDocumentFindReplace.ts(236,7): error TS18048: 'activeMark' is possibly 'undefined'.
hooks/useDocumentFindReplace.ts(264,14): error TS18048: 'mark' is possibly 'undefined'.
hooks/useDocumentFindReplace.ts(265,9): error TS18048: 'mark' is possibly 'undefined'.
hooks/useDocumentFindReplace.ts(265,77): error TS2345: Argument of type 'HTMLElement | undefined' is not assignable to parameter of type 'Node'.
  Type 'undefined' is not assignable to type 'Node'.
hooks/useInsightsLab.ts(4,22): error TS6133: 'ClaudeMessage' is declared but its value is never read.
hooks/useInsightsLab.ts(4,37): error TS6133: 'ClaudeUsage' is declared but its value is never read.
hooks/useInsightsLab.ts(9,10): error TS6133: 'estimateTokens' is declared but its value is never read.
hooks/useInsightsLab.ts(36,5): error TS2322: Type '{ name: string; content: string; fileId: string | undefined; sourceType: "markdown" | "native-pdf" | undefined; bookmarks: BookmarkNode[] | undefined; }[]' is not assignable to type '{ name: string; content: string; fileId?: string; sourceType?: string; bookmarks?: BookmarkNode[]; }[]'.
  Type '{ name: string; content: string; fileId: string | undefined; sourceType: "markdown" | "native-pdf" | undefined; bookmarks: BookmarkNode[] | undefined; }' is not assignable to type '{ name: string; content: string; fileId?: string; sourceType?: string; bookmarks?: BookmarkNode[]; }' with 'exactOptionalPropertyTypes: true'. Consider adding 'undefined' to the types of the target's properties.
    Types of property 'fileId' are incompatible.
      Type 'string | undefined' is not assignable to type 'string'.
        Type 'undefined' is not assignable to type 'string'.
hooks/useInsightsLab.ts(154,42): error TS2532: Object is possibly 'undefined'.
hooks/useInsightsLab.ts(156,41): error TS18048: 'firstMsg' is possibly 'undefined'.
hooks/useInsightsLab.ts(157,38): error TS18048: 'firstMsg' is possibly 'undefined'.
hooks/useInsightsLab.ts(158,19): error TS18048: 'firstMsg' is possibly 'undefined'.
hooks/useInsightsLab.ts(176,21): error TS2379: Argument of type '{ provider: "claude"; model: string; inputTokens: number; outputTokens: number; cacheReadTokens: number | undefined; cacheWriteTokens: number | undefined; }' is not assignable to parameter of type 'Omit<TokenUsageEntry, "timestamp" | "estimatedCost">' with 'exactOptionalPropertyTypes: true'. Consider adding 'undefined' to the types of the target's properties.
  Types of property 'cacheReadTokens' are incompatible.
    Type 'number | undefined' is not assignable to type 'number'.
      Type 'undefined' is not assignable to type 'number'.
hooks/useInsightsLab.ts(186,13): error TS2375: Type '{ id: string; role: "assistant"; content: string; timestamp: number; isCardContent: boolean; detailLevel: DetailLevel | undefined; }' is not assignable to type 'ChatMessage' with 'exactOptionalPropertyTypes: true'. Consider adding 'undefined' to the types of the target's properties.
  Types of property 'detailLevel' are incompatible.
    Type 'DetailLevel | undefined' is not assignable to type 'DetailLevel'.
      Type 'undefined' is not assignable to type 'DetailLevel'.
hooks/usePersistence.ts(3,10): error TS6133: 'Card' is declared but its value is never read.
hooks/useVersionHistory.ts(95,21): error TS6133: 'prev' is declared but its value is never read.
index.tsx(3,22): error TS7016: Could not find a declaration file for module 'react-dom/client'. 'C:/Users/archd/Downloads/infonugget-v6.0/node_modules/react-dom/client.js' implicitly has an 'any' type.
  Try `npm i --save-dev @types/react-dom` if it exists or add a new declaration (.d.ts) file containing `declare module 'react-dom/client';`
types.ts(236,6): error TS6196: 'FileType' is declared but never used.
utils/ai.ts(87,3): error TS2322: Type 'Palette | undefined' is not assignable to type 'Palette'.
  Type 'undefined' is not assignable to type 'Palette'.
utils/ai.ts(88,3): error TS2322: Type 'FontPair | undefined' is not assignable to type 'FontPair'.
  Type 'undefined' is not assignable to type 'FontPair'.
utils/ai.ts(101,7): error TS6133: 'FLASH_TEXT_CONFIG' is declared but its value is never read.
utils/ai.ts(116,15): error TS4111: Property 'API_KEY' comes from an index signature, so it must be accessed with ['API_KEY'].
utils/ai.ts(117,15): error TS4111: Property 'GEMINI_API_KEY_FALLBACK' comes from an index signature, so it must be accessed with ['GEMINI_API_KEY_FALLBACK'].
utils/ai.ts(143,10): error TS6133: 'resetGeminiKey' is declared but its value is never read.
utils/ai.ts(300,30): error TS4111: Property 'ANTHROPIC_API_KEY' comes from an index signature, so it must be accessed with ['ANTHROPIC_API_KEY'].
utils/ai.ts(372,9): error TS2375: Type '{ type?: string; text?: string; source?: { type: string; media_type?: string; data?: string; file_id?: string; }; title?: string; cache_control?: { type: "ephemeral"; }; }' is not assignable to type 'ClaudeContentBlock' with 'exactOptionalPropertyTypes: true'. Consider adding 'undefined' to the types of the target's properties.
  Property 'type' is optional in type '{ type?: string; text?: string; source?: { type: string; media_type?: string; data?: string; file_id?: string; }; title?: string; cache_control?: { type: "ephemeral"; }; }' but required in type 'ClaudeContentBlock'.
utils/ai.ts(397,10): error TS4111: Property 'temperature' comes from an index signature, so it must be accessed with ['temperature'].
utils/ai.ts(401,10): error TS4111: Property 'system' comes from an index signature, so it must be accessed with ['system'].
utils/ai.ts(405,70): error TS2769: No overload matches this call.
  Overload 1 of 2, '(input: string | URL | Request, init?: RequestInit | undefined): Promise<Response>', gave the following error.
    Argument of type '{ method: string; headers: { 'Content-Type': string; 'x-api-key': string; 'anthropic-version': string; 'anthropic-beta': string; 'anthropic-dangerous-direct-browser-access': string; }; body: string; signal: AbortSignal | undefined; }' is not assignable to parameter of type 'RequestInit' with 'exactOptionalPropertyTypes: true'. Consider adding 'undefined' to the types of the target's properties.
      Types of property 'signal' are incompatible.
        Type 'AbortSignal | undefined' is not assignable to type 'AbortSignal | null'.
          Type 'undefined' is not assignable to type 'AbortSignal | null'.
  Overload 2 of 2, '(input: URL | RequestInfo, init?: RequestInit | undefined): Promise<Response>', gave the following error.
    Argument of type '{ method: string; headers: { 'Content-Type': string; 'x-api-key': string; 'anthropic-version': string; 'anthropic-beta': string; 'anthropic-dangerous-direct-browser-access': string; }; body: string; signal: AbortSignal | undefined; }' is not assignable to parameter of type 'RequestInit' with 'exactOptionalPropertyTypes: true'. Consider adding 'undefined' to the types of the target's properties.
      Types of property 'signal' are incompatible.
        Type 'AbortSignal | undefined' is not assignable to type 'AbortSignal | null'.
          Type 'undefined' is not assignable to type 'AbortSignal | null'.
utils/ai.ts(464,30): error TS4111: Property 'ANTHROPIC_API_KEY' comes from an index signature, so it must be accessed with ['ANTHROPIC_API_KEY'].
utils/ai.ts(549,45): error TS2345: Argument of type '{ system: string; maxTokens: number; signal: AbortSignal | undefined; }' is not assignable to parameter of type 'CallClaudeOptions | { base64: string; mediaType: string; } | undefined'.
  Type '{ system: string; maxTokens: number; signal: AbortSignal | undefined; }' is not assignable to type 'CallClaudeOptions' with 'exactOptionalPropertyTypes: true'. Consider adding 'undefined' to the types of the target's properties.
    Types of property 'signal' are incompatible.
      Type 'AbortSignal | undefined' is not assignable to type 'AbortSignal'.
        Type 'undefined' is not assignable to type 'AbortSignal'.
utils/ai.ts(592,30): error TS4111: Property 'ANTHROPIC_API_KEY' comes from an index signature, so it must be accessed with ['ANTHROPIC_API_KEY'].
utils/autoDeck/parsers.ts(15,12): error TS2532: Object is possibly 'undefined'.
utils/autoDeck/parsers.ts(146,5): error TS2412: Type 'undefined' is not assignable to type 'PlanQuestion[]' with 'exactOptionalPropertyTypes: true'. Consider adding 'undefined' to the type of the target.
utils/fileProcessing.ts(23,35): error TS2345: Argument of type 'string | undefined' is not assignable to parameter of type 'string | PromiseLike<string>'.
  Type 'undefined' is not assignable to type 'string | PromiseLike<string>'.
utils/fileProcessing.ts(222,11): error TS2322: Type '{ level: number; text: string; id: string; selected: false; page: number | undefined; }[]' is not assignable to type 'Heading[]'.
  Type '{ level: number; text: string; id: string; selected: false; page: number | undefined; }' is not assignable to type 'Heading' with 'exactOptionalPropertyTypes: true'. Consider adding 'undefined' to the types of the target's properties.
    Types of property 'page' are incompatible.
      Type 'number | undefined' is not assignable to type 'number'.
        Type 'undefined' is not assignable to type 'number'.
utils/formatTime.ts(4,10): error TS6133: 'formatTimestamp' is declared but its value is never read.
utils/geometry.ts(21,40): error TS2345: Argument of type 'NormalizedPoint | undefined' is not assignable to parameter of type 'NormalizedPoint'.
  Type 'undefined' is not assignable to type 'NormalizedPoint'.
utils/geometry.ts(37,11): error TS2322: Type 'NormalizedPoint | undefined' is not assignable to type 'NormalizedPoint'.
  Type 'undefined' is not assignable to type 'NormalizedPoint'.
utils/geometry.ts(37,18): error TS2322: Type 'NormalizedPoint | undefined' is not assignable to type 'NormalizedPoint'.
  Type 'undefined' is not assignable to type 'NormalizedPoint'.
utils/geometry.ts(98,33): error TS2532: Object is possibly 'undefined'.
utils/geometry.ts(98,66): error TS2532: Object is possibly 'undefined'.
utils/geometry.ts(103,47): error TS2345: Argument of type 'NormalizedPoint | undefined' is not assignable to parameter of type 'NormalizedPoint'.
  Type 'undefined' is not assignable to type 'NormalizedPoint'.
utils/markdown.ts(12,16): error TS2532: Object is possibly 'undefined'.
utils/markdown.ts(13,15): error TS2532: Object is possibly 'undefined'.
utils/markdown.ts(43,35): error TS2345: Argument of type 'string | undefined' is not assignable to parameter of type 'string'.
  Type 'undefined' is not assignable to type 'string'.
utils/modificationEngine.ts(54,32): error TS4111: Property 'aspectRatio' comes from an index signature, so it must be accessed with ['aspectRatio'].
utils/modificationEngine.ts(55,31): error TS4111: Property 'imageSize' comes from an index signature, so it must be accessed with ['imageSize'].
utils/modificationEngine.ts(149,32): error TS4111: Property 'aspectRatio' comes from an index signature, so it must be accessed with ['aspectRatio'].
utils/modificationEngine.ts(150,31): error TS4111: Property 'imageSize' comes from an index signature, so it must be accessed with ['imageSize'].
utils/modificationEngine.ts(212,18): error TS2322: Type 'string | undefined' is not assignable to type 'string'.
  Type 'undefined' is not assignable to type 'string'.
utils/pdfBookmarks.ts(1,23): error TS6133: 'PDFDict' is declared but its value is never read.
utils/pdfBookmarks.ts(105,32): error TS2532: Object is possibly 'undefined'.
utils/pdfBookmarks.ts(110,5): error TS2532: Object is possibly 'undefined'.
utils/pdfBookmarks.ts(159,37): error TS2345: Argument of type 'number | undefined' is not assignable to parameter of type 'number'.
  Type 'undefined' is not assignable to type 'number'.
utils/pdfBookmarks.ts(195,12): error TS2532: Object is possibly 'undefined'.
utils/pdfBookmarks.ts(233,50): error TS18048: 'entry' is possibly 'undefined'.
utils/pdfBookmarks.ts(238,28): error TS18048: 'entry' is possibly 'undefined'.
utils/pdfBookmarks.ts(244,38): error TS2532: Object is possibly 'undefined'.
utils/pdfBookmarks.ts(247,38): error TS2532: Object is possibly 'undefined'.
utils/pdfBookmarks.ts(251,11): error TS18048: 'entry' is possibly 'undefined'.
utils/pdfBookmarks.ts(252,39): error TS18048: 'entry' is possibly 'undefined'.
utils/pdfBookmarks.ts(252,39): error TS2532: Object is possibly 'undefined'.
utils/pdfBookmarks.ts(253,38): error TS18048: 'entry' is possibly 'undefined'.
utils/pdfBookmarks.ts(253,38): error TS2532: Object is possibly 'undefined'.
utils/pdfBookmarks.ts(253,53): error TS18048: 'entry' is possibly 'undefined'.
utils/pdfBookmarks.ts(255,53): error TS18048: 'entry' is possibly 'undefined'.
utils/pdfBookmarks.ts(256,28): error TS18048: 'entry' is possibly 'undefined'.
utils/pdfBookmarks.ts(256,44): error TS18048: 'entry' is possibly 'undefined'.
utils/pdfBookmarks.ts(259,22): error TS18048: 'entry' is possibly 'undefined'.
utils/pdfBookmarks.ts(269,43): error TS2532: Object is possibly 'undefined'.
utils/pdfBookmarks.ts(270,42): error TS2532: Object is possibly 'undefined'.
utils/pdfBookmarks.ts(296,9): error TS2532: Object is possibly 'undefined'.
utils/pdfBookmarks.ts(296,38): error TS2322: Type 'BookmarkNode | undefined' is not assignable to type 'BookmarkNode'.
  Type 'undefined' is not assignable to type 'BookmarkNode'.
utils/pdfBookmarks.ts(297,28): error TS2532: Object is possibly 'undefined'.
utils/pdfBookmarks.ts(380,3): error TS18048: 'removed' is possibly 'undefined'.
utils/pdfBookmarks.ts(380,19): error TS18048: 'prevSibling' is possibly 'undefined'.
utils/pdfBookmarks.ts(388,16): error TS18048: 'removed' is possibly 'undefined'.
utils/pdfBookmarks.ts(388,34): error TS18048: 'removed' is possibly 'undefined'.
utils/pdfBookmarks.ts(389,3): error TS18048: 'prevSibling' is possibly 'undefined'.
utils/pdfBookmarks.ts(389,29): error TS2345: Argument of type 'BookmarkNode | undefined' is not assignable to parameter of type 'BookmarkNode'.
  Type 'undefined' is not assignable to type 'BookmarkNode'.
utils/pdfBookmarks.ts(407,3): error TS18048: 'removed' is possibly 'undefined'.
utils/pdfBookmarks.ts(413,5): error TS18048: 'removed' is possibly 'undefined'.
utils/pdfBookmarks.ts(423,16): error TS18048: 'removed' is possibly 'undefined'.
utils/pdfBookmarks.ts(423,34): error TS18048: 'removed' is possibly 'undefined'.
utils/pdfBookmarks.ts(428,75): error TS2345: Argument of type 'BookmarkNode | undefined' is not assignable to parameter of type 'BookmarkNode'.
  Type 'undefined' is not assignable to type 'BookmarkNode'.
utils/pdfBookmarks.ts(430,15): error TS2345: Argument of type 'BookmarkNode | undefined' is not assignable to parameter of type 'BookmarkNode'.
  Type 'undefined' is not assignable to type 'BookmarkNode'.
utils/pdfBookmarks.ts(453,4): error TS2322: Type 'BookmarkNode | undefined' is not assignable to type 'BookmarkNode'.
  Type 'undefined' is not assignable to type 'BookmarkNode'.
utils/pdfBookmarks.ts(453,21): error TS2322: Type 'BookmarkNode | undefined' is not assignable to type 'BookmarkNode'.
  Type 'undefined' is not assignable to type 'BookmarkNode'.
utils/prompts/contentGeneration.ts(1,23): error TS6133: 'Heading' is declared but its value is never read.
utils/prompts/contentGeneration.ts(215,11): error TS2532: Object is possibly 'undefined'.
utils/prompts/contentGeneration.ts(215,37): error TS18048: 'targetHeading' is possibly 'undefined'.
utils/prompts/contentGeneration.ts(224,11): error TS2532: Object is possibly 'undefined'.
utils/prompts/contentGeneration.ts(224,37): error TS18048: 'targetHeading' is possibly 'undefined'.
utils/prompts/contentGeneration.ts(229,23): error TS18048: 'targetHeading' is possibly 'undefined'.
utils/prompts/contentGeneration.ts(231,9): error TS2532: Object is possibly 'undefined'.
utils/prompts/contentGeneration.ts(236,34): error TS18048: 'h' is possibly 'undefined'.
utils/prompts/contentGeneration.ts(237,25): error TS18048: 'h' is possibly 'undefined'.
utils/prompts/contentGeneration.ts(237,52): error TS18048: 'h' is possibly 'undefined'.
utils/prompts/contentGeneration.ts(238,28): error TS18048: 'h' is possibly 'undefined'.
utils/prompts/contentGeneration.ts(245,112): error TS2532: Object is possibly 'undefined'.
utils/prompts/coverGeneration.ts(6,3): error TS6133: 'hexToColorName' is declared but its value is never read.
utils/prompts/coverGeneration.ts(7,3): error TS6133: 'fontToDescriptor' is declared but its value is never read.
utils/prompts/coverGeneration.ts(327,3): error TS6133: 'cardTitle' is declared but its value is never read.
utils/prompts/insightsLab.ts(12,7): error TS6133: 'INSIGHTS_SYSTEM_PROMPT' is declared but its value is never read.
utils/prompts/pwcGeneration.ts(5,3): error TS6133: 'sanitizePlannerOutput' is declared but its value is never read.
utils/prompts/pwcGeneration.ts(43,3): error TS6133: 'cardTitle' is declared but its value is never read.
utils/prompts/pwcGeneration.ts(276,3): error TS6133: 'style' is declared but its value is never read.
utils/redline.ts(89,16): error TS6133: 'white' is declared but its value is never read.
utils/redline.ts(151,3): error TS6133: 'strokeWidth' is declared but its value is never read.
utils/redline.ts(162,26): error TS2345: Argument of type 'NormalizedPoint | undefined' is not assignable to parameter of type 'NormalizedPoint'.
  Type 'undefined' is not assignable to type 'NormalizedPoint'.
utils/redline.ts(165,24): error TS2345: Argument of type 'NormalizedPoint | undefined' is not assignable to parameter of type 'NormalizedPoint'.
  Type 'undefined' is not assignable to type 'NormalizedPoint'.
utils/storage/serialize.ts(3,50): error TS6133: 'StoredImageVersion' is declared but its value is never read.
utils/storage/serialize.ts(16,10): error TS6133: 'serializeFile' is declared but its value is never read.
utils/storage/serialize.ts(17,3): error TS2375: Type '{ id: string; name: string; size: number; type: string; lastModified: number; content: string | undefined; status: "ready" | "error"; progress: number; }' is not assignable to type 'StoredFile' with 'exactOptionalPropertyTypes: true'. Consider adding 'undefined' to the types of the target's properties.
  Types of property 'content' are incompatible.
    Type 'string | undefined' is not assignable to type 'string'.
      Type 'undefined' is not assignable to type 'string'.
utils/storage/serialize.ts(30,3): error TS2375: Type '{ id: string; name: string; size: number; type: string; lastModified: number; content: string | undefined; status: "ready" | "error"; progress: number; structure: Heading[] | undefined; }' is not assignable to type 'UploadedFile' with 'exactOptionalPropertyTypes: true'. Consider adding 'undefined' to the types of the target's properties.
  Types of property 'content' are incompatible.
    Type 'string | undefined' is not assignable to type 'string'.
      Type 'undefined' is not assignable to type 'string'.
utils/storage/serialize.ts(46,3): error TS2375: Type '{ fileId: string; headingId: string; level: number; text: string; selected: boolean | undefined; detailLevel: DetailLevel | undefined; settings: StylingOptions | undefined; ... 6 more ...; sourceDocuments: string[] | undefined; }' is not assignable to type 'StoredHeading' with 'exactOptionalPropertyTypes: true'. Consider adding 'undefined' to the types of the target's properties.
  Types of property 'selected' are incompatible.
    Type 'boolean | undefined' is not assignable to type 'boolean'.
      Type 'undefined' is not assignable to type 'boolean'.
utils/storage/serialize.ts(100,5): error TS2322: Type 'DetailLevel | undefined' is not assignable to type 'DetailLevel'.
  Type 'undefined' is not assignable to type 'DetailLevel'.
utils/storage/serialize.ts(107,9): error TS2375: Type '{ id: string; level: number; text: string; selected: boolean | undefined; detailLevel: DetailLevel | undefined; settings: { levelOfDetail: DetailLevel; style: string; palette: Palette; fonts: FontPair; aspectRatio: "1:1" | "2:3" | "3:2" | "3:4" | "4:3" | "4:5" | "5:4" | "9:16" | "16:9" | "21:9"; resolution: "1K" | "...' is not assignable to type 'Card' with 'exactOptionalPropertyTypes: true'. Consider adding 'undefined' to the types of the target's properties.
  Types of property 'selected' are incompatible.
    Type 'boolean | undefined' is not assignable to type 'boolean'.
      Type 'undefined' is not assignable to type 'boolean'.
utils/storage/serialize.ts(175,3): error TS2375: Type '{ id: string; name: string; type: "insights"; messages: ChatMessage[] | undefined; docChangeLog: DocChangeEvent[] | undefined; lastDocChangeSyncIndex: number | undefined; subject: string | undefined; stylingOptions: StylingOptions | undefined; createdAt: number; lastModifiedAt: number; }' is not assignable to type 'StoredNugget' with 'exactOptionalPropertyTypes: true'. Consider adding 'undefined' to the types of the target's properties.
  Types of property 'messages' are incompatible.
    Type 'ChatMessage[] | undefined' is not assignable to type 'ChatMessage[]'.
      Type 'undefined' is not assignable to type 'ChatMessage[]'.
utils/storage/serialize.ts(190,3): error TS2375: Type '{ id: string; name: string; type: "insights"; documents: UploadedFile[]; cards: Card[]; messages: ChatMessage[] | undefined; docChangeLog: DocChangeEvent[] | undefined; ... 4 more ...; lastModifiedAt: number; }' is not assignable to type 'Nugget' with 'exactOptionalPropertyTypes: true'. Consider adding 'undefined' to the types of the target's properties.
  Types of property 'messages' are incompatible.
    Type 'ChatMessage[] | undefined' is not assignable to type 'ChatMessage[]'.
      Type 'undefined' is not assignable to type 'ChatMessage[]'.
utils/storage/serialize.ts(209,9): error TS2375: Type '{ nuggetId: string; docId: string; name: string; size: number; type: string; lastModified: number; content: string | undefined; status: "ready" | "error"; progress: number; }' is not assignable to type 'StoredNuggetDocument' with 'exactOptionalPropertyTypes: true'. Consider adding 'undefined' to the types of the target's properties.
  Types of property 'content' are incompatible.
    Type 'string | undefined' is not assignable to type 'string'.
      Type 'undefined' is not assignable to type 'string'.
utils/storage/serialize.ts(243,9): error TS2375: Type '{ id: string; name: string; size: number; type: string; lastModified: number; content: string | undefined; status: "ready" | "error"; progress: number; }' is not assignable to type 'UploadedFile' with 'exactOptionalPropertyTypes: true'. Consider adding 'undefined' to the types of the target's properties.
  Types of property 'content' are incompatible.
    Type 'string | undefined' is not assignable to type 'string'.
      Type 'undefined' is not assignable to type 'string'.
utils/storage/serialize.ts(273,5): error TS2412: Type '"pdf_bookmarks" | "ai_generated" | "manual" | undefined' is not assignable to type 'BookmarkSource' with 'exactOptionalPropertyTypes: true'. Consider adding 'undefined' to the type of the target.
  Type 'undefined' is not assignable to type 'BookmarkSource'.
utils/storage/serialize.ts(276,11): error TS2322: Type '{ level: number; text: string; id: string; page: number | undefined; }[]' is not assignable to type 'Heading[]'.
  Type '{ level: number; text: string; id: string; page: number | undefined; }' is not assignable to type 'Heading' with 'exactOptionalPropertyTypes: true'. Consider adding 'undefined' to the types of the target's properties.
    Types of property 'page' are incompatible.
      Type 'number | undefined' is not assignable to type 'number'.
        Type 'undefined' is not assignable to type 'number'.
utils/storage/serialize.ts(292,3): error TS2375: Type '{ id: string; name: string; nuggetIds: string[]; isCollapsed: boolean | undefined; createdAt: number; lastModifiedAt: number; }' is not assignable to type 'StoredProject' with 'exactOptionalPropertyTypes: true'. Consider adding 'undefined' to the types of the target's properties.
  Types of property 'isCollapsed' are incompatible.
    Type 'boolean | undefined' is not assignable to type 'boolean'.
      Type 'undefined' is not assignable to type 'boolean'.
utils/storage/serialize.ts(303,3): error TS2375: Type '{ id: string; name: string; nuggetIds: string[]; isCollapsed: boolean | undefined; createdAt: number; lastModifiedAt: number; }' is not assignable to type 'Project' with 'exactOptionalPropertyTypes: true'. Consider adding 'undefined' to the types of the target's properties.
  Types of property 'isCollapsed' are incompatible.
    Type 'boolean | undefined' is not assignable to type 'boolean'.
      Type 'undefined' is not assignable to type 'boolean'.
utils/storage/StorageBackend.ts(2,82): error TS6133: 'ImageVersion' is declared but its value is never read.
utils/storage/StorageBackend.ts(2,96): error TS6133: 'UploadedFile' is declared but its value is never read.
utils/subjectGeneration.ts(38,48): error TS18048: 'h' is possibly 'undefined'.
utils/subjectGeneration.ts(39,35): error TS18048: 'h' is possibly 'undefined'.
utils/subjectGeneration.ts(42,13): error TS18048: 'h' is possibly 'undefined'.
utils/subjectGeneration.ts(43,54): error TS18048: 'h' is possibly 'undefined'.
utils/subjectGeneration.ts(47,38): error TS2532: Object is possibly 'undefined'.
utils/subjectGeneration.ts(94,17): error TS2379: Argument of type '{ provider: "claude"; model: string; inputTokens: number; outputTokens: number; cacheReadTokens: number | undefined; cacheWriteTokens: number | undefined; }' is not assignable to parameter of type 'Omit<TokenUsageEntry, "timestamp" | "estimatedCost">' with 'exactOptionalPropertyTypes: true'. Consider adding 'undefined' to the types of the target's properties.
  Types of property 'cacheReadTokens' are incompatible.
    Type 'number | undefined' is not assignable to type 'number'.
      Type 'undefined' is not assignable to type 'number'.
utils/tokenEstimation.ts(94,28): error TS18048: 'msg' is possibly 'undefined'.
utils/tokenEstimation.ts(94,55): error TS18048: 'msg' is possibly 'undefined'.
utils/tokenEstimation.ts(94,84): error TS18048: 'msg' is possibly 'undefined'.
utils/tokenEstimation.ts(97,20): error TS2345: Argument of type 'ClaudeMessage | undefined' is not assignable to parameter of type 'ClaudeMessage'.
  Type 'undefined' is not assignable to type 'ClaudeMessage'.
vite.config.ts(38,35): error TS4111: Property 'GEMINI_API_KEY' comes from an index signature, so it must be accessed with ['GEMINI_API_KEY'].
vite.config.ts(38,57): error TS4111: Property 'GEMINI_API_KEY' comes from an index signature, so it must be accessed with ['GEMINI_API_KEY'].
vite.config.ts(39,43): error TS4111: Property 'GEMINI_API_KEY_FALLBACK' comes from an index signature, so it must be accessed with ['GEMINI_API_KEY_FALLBACK'].
vite.config.ts(39,74): error TS4111: Property 'GEMINI_API_KEY_FALLBACK' comes from an index signature, so it must be accessed with ['GEMINI_API_KEY_FALLBACK'].
vite.config.ts(40,38): error TS4111: Property 'ANTHROPIC_API_KEY' comes from an index signature, so it must be accessed with ['ANTHROPIC_API_KEY'].
vite.config.ts(40,63): error TS4111: Property 'ANTHROPIC_API_KEY' comes from an index signature, so it must be accessed with ['ANTHROPIC_API_KEY'].
